<h2 mat-dialog-title>Cadastrar tratamento</h2>
<mat-dialog-content>


<form [formGroup]="createTreatmentForm" class="example-form" >
  <!--ToDo Nome-->
  <mat-form-field class="example-full-width">
    <mat-label>Nome</mat-label>
    <input type="email" matInput formControlName="Name"
           placeholder="Ex. pat@example.com">
    <mat-hint>Errors appear instantly!</mat-hint>
    @if (createTreatmentForm.hasError('email') && !createTreatmentForm.hasError('required')) {
      <mat-error>Please enter a valid email address</mat-error>
    }
    @if (createTreatmentForm.hasError('required')) {
      <mat-error>Email is <strong>required</strong></mat-error>
    }
</mat-form-field>
  <!--ToDo Resume-->
  <mat-form-field class="example-full-width">
    <mat-label>resume</mat-label>
    <input type="email" matInput formControlName="Resume"

           placeholder="Ex. pat@example.com">
    <mat-hint>Errors appear instantly!</mat-hint>
    @if (createTreatmentForm.hasError('email') && !createTreatmentForm.hasError('required')) {
      <mat-error>Please enter a valid email address</mat-error>
    }
    @if (createTreatmentForm.hasError('required')) {
      <mat-error>Email is <strong>required</strong></mat-error>
    }
</mat-form-field>
  <!--ToDo Area-->
  <mat-form-field class="example-full-width">

    <mat-label>area</mat-label>
    <input type="email" matInput formControlName="Area"

           placeholder="Ex. pat@example.com">
    <mat-hint>Errors appear instantly!</mat-hint>
    @if (createTreatmentForm.hasError('email') && !createTreatmentForm.hasError('required')) {
      <mat-error>Please enter a valid email address</mat-error>
    }
    @if (createTreatmentForm.hasError('required')) {
      <mat-error>Email is <strong>required</strong></mat-error>
    }
  </mat-form-field>
  <mat-form-field class="example-full-width">
  <!--ToDo ImageUrl-->
    <mat-label>imageUrl</mat-label>
    <input type="file" matInput formControlName="ImageUrl"
     (change)="onFileSelected($event)">
    <mat-hint>Errors appear instantly!</mat-hint>
    @if (createTreatmentForm.hasError('email') && !createTreatmentForm.hasError('required')) {
      <mat-error>Please enter a valid email address</mat-error>
    }
    @if (createTreatmentForm.hasError('required')) {
      <mat-error>Email is <strong>required</strong></mat-error>
    }
  </mat-form-field>
<mat-spinner *ngIf="loading"></mat-spinner>
  <button mat-stroked-button (click)="onSubmit()" type="submit"> enviar </button>

</form>
</mat-dialog-content>

<ng-template #loading>
  <mat-spinner></mat-spinner>
</ng-template>
